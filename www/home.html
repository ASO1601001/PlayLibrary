<ons-navigator swipeable id="navigator" page="home.html">
<ons-page>
  <div class="page__background" style="background-image:url('img/background.png');background-repeat: no-repeat;background-position: 50% 50%;background-attachment:fixed;"></div>
  <ons-toolbar>
    <div class="left">
      <ons-toolbar-button onclick="fn.open()">
        <ons-icon icon="ion-navicon, material:md-menu"></ons-icon>
      </ons-toolbar-button>
    </div>
    <div class="center">
      まいぺーじ
    </div>
  </ons-toolbar>

  <div class="library" id="library">
    <ons-row>
      <ons-col  class="item">
        プロフィール
        <ons-button modifier="light" onClick="show_profile();">編集</ons-button>
      </ons-col>
  </div>
  <button id="add_play_button" onclick="to_add_play();">＋</button>
  <button id="setting1" onclick="setting1();">せっちんぐ1</button>
  <button id="setting2" onclick="setting2();">せっちんぐ2</button>

  <script>
    firebase.auth().onAuthStateChanged(function(user){
      if(user){
        var count;
        firebase.firestore().collection("plays").where("user_id","==",user.uid).get().then(function(querySnapshot){
          count = querySnapshot.size;
          for(var i = 1; i < count; i+=2){
            if(i<count){
              document.getElementById('library').innerHTML += '<ons-row><ons-col id="lib'+i+'" class="item">図鑑' + i + '</ons-col><ons-col id="lib'+(i+1)+'" class="item">図鑑' + (i+1) + '</ons-col></ons-row>';
            }else{
              document.getElementById('library').innerHTML += '<ons-row><ons-col id="lib'+i+'" class="item">図鑑' + i + '</ons-col><ons-col class="item"></ons-col></ons-row>';
            }
          }
        });
      }
    });

    firebase.auth().onAuthStateChanged(function(user) {
      if (user) {
        var doccount;
        //alert(user.displayName);
        firebase.firestore().collection("plays").where("user_id", "==", "b98xkUbUDNTcNKUH7aFuZ4JqMOz2").get().then(function(querySnapshot) {
          querySnapshot.forEach(function(doc) {
            //console.log(doc.id + " => "+doc.data().name);
            //console.log(querySnapshot.size);
            /*for文でまずsize分レイアウトを出力してから、idで内容を変更する*/
            var docid = new String(doc.id);
            document.getElementById("lib"+docid.toString()).innerHTML = doc.data().name+'<button onClick="showModal(\'top\','+docid+')">モーダル</button>';
          });
        });
      }
    });

    /*var count = 3;
    for(var i = 1; i < count; i+=2){
      if(doc.id % 2 == 0){
        document.getElementById('library').innerHTML += '<ons-row><ons-col class="item">図鑑' + i + '<button onClick="showModal(\'top\')">モーダル</button></ons-col><ons-col  class="item">図鑑' + (i+1) + '<button onClick="showModal(\'top\')">モーダル</button></ons-col></ons-row>';
      }else{
        document.getElementById('library').innerHTML += '<ons-row><ons-col  class="item">図鑑' + i + '<button onClick="showModal(\'top\')">モーダル</button></ons-col><ons-col class="item"></ons-col></ons-row>';
      }
    }*/
  </script>
</ons-page>
</ons-navigator>